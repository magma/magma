# orc8r-helm-aws

This is a Terraform module which installs the Orchestrator application and all
supporting components into an EKS cluster.

Everything below this line was generated by
[`terraform-docs`](https://github.com/segmentio/terraform-docs).

## Requirements

| Name | Version |
|------|---------|
| aws | >= 2.6.0 |
| helm | ~> 1.0 |
| kubernetes | ~> 1.10.0 |
| random | ~> 2.1 |
| template | ~> 2.0 |
| tls | ~> 2.1 |

## Providers

| Name | Version |
|------|---------|
| aws | >= 2.6.0 |
| helm | ~> 1.0 |
| kubernetes | ~> 1.10.0 |
| null | n/a |
| terraform | n/a |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| cwf_orc8r\_chart\_version | Version of the Orchestrator cwf module Helm chart to install. | `string` | 0.2.0 | yes |
| deploy\_nms | Flag to deploy NMS. | `bool` | n/a | yes |
| deploy\_openvpn | Flag to deploy OpenVPN server into cluster. This is useful if you want to remotely access AGWs. | `bool` | `false` | no |
| docker\_pass | Docker registry password. | `string` | n/a | yes |
| docker\_registry | Docker registry to pull Orchestrator containers from. | `string` | n/a | yes |
| docker\_user | Docker username to login to registry with. | `string` | n/a | yes |
| efs\_file\_system\_id | ID of the EFS file system to use for K8s persistent volumes. | `string` | n/a | yes |
| efs\_provisioner\_role\_arn | ARN of the IAM role for the EFS provisioner. | `string` | n/a | yes |
| eks\_cluster\_id | EKS cluster ID for the K8s cluster. | `string` | n/a | yes |
| elasticsearch\_endpoint | Endpoint of the Elasticsearch datasink for aggregated logs and events. | `string` | `null` | no |
| elasticsearch\_retention\_days | Retention period in days of Elasticsearch indices. | `number` | `7` | no |
| existing\_tiller\_service\_account\_name | Name of existing Tiller service account to use for Helm. | `string` | `null` | no |
| external\_dns\_role\_arn | IAM role ARN for ExternalDNS. | `string` | n/a | yes |
| fbinternal_orc8r\_chart\_version | Version of the Orchestrator fbinternal module Helm chart to install. | `string` | 0.2.0 | yes |
| feg_orc8r\_chart\_version | Version of the Orchestrator feg module Helm chart to install. | `string` | 0.2.1 | yes |
| helm\_deployment\_name | Name for the Helm release. | `string` | `"orc8r"` | no |
| helm\_pass | Helm repository password. | `string` | n/a | yes |
| helm\_repo | Helm repository URL for Orchestrator charts. | `string` | n/a | yes |
| helm\_user | Helm username to login to repository with. | `string` | n/a | yes |
| install\_tiller | Install Tiller in the cluster or not. | `bool` | `true` | no |
| lte_orc8r\_chart\_version | Version of the Orchestrator lte module Helm chart to install. | `string` | 0.2.1 | yes |
| monitoring\_kubernetes\_namespace | K8s namespace to install Orchestrator monitoring components into. | `string` | `"monitoring"` | no |
| orc8r\_chart\_version | Version of the core Orchestrator Helm chart to install. | `string` | 1.5.8 | yes |
| orc8r\_controller\_replicas | Replica count for Orchestrator controller pods. | `number` | `2` | no |
| orc8r\_db\_host | DB hostname for Orchestrator database connection. | `string` | n/a | yes |
| orc8r\_db\_name | DB name for Orchestrator database connection. | `string` | n/a | yes |
| orc8r\_db\_pass | Orchestrator DB password. | `string` | n/a | yes |
| orc8r\_db\_port | DB port for Orchestrator database connection. | `number` | `5432` | no |
| orc8r\_db\_user | DB username for Orchestrator database connection. | `string` | n/a | yes |
| orc8r\_deployment\_type | Deployment type of Orchestrator (FWA, Federated FWA, ALL). | `string` | n/a | yes |
| orc8r\_domain\_name | Base domain name for Orchestrator. | `string` | n/a | yes |
| orc8r\_kubernetes\_namespace | K8s namespace to install main Orchestrator components into. | `string` | `"orc8r"` | no |
| orc8r\_proxy\_replicas | Replica count for Orchestrator proxy pods. | `number` | `2` | no |
| orc8r\_route53\_zone\_id | Route53 zone ID of Orchestrator domain name for ExternalDNS. | `string` | n/a | yes |
| orc8r\_tag | Image tag for Orchestrator components. | `string` | `""` | no |
| region | AWS region to deploy Orchestrator components into. The chosen region must provide EKS. | `string` | n/a | yes |
| secretsmanager\_orc8r\_name | Name of the AWS Secrets Manager secret where Orchestrator deployment secrets will be stored. | `string` | n/a | yes |
| seed\_certs\_dir | Directory on LOCAL disk where Orchestrator certificates are stored to seed Secrets Manager values. Home directory and env vars will be expanded. | `string` | n/a | yes |
| state\_backend | State backend for terraform (e.g. s3, local). | `string` | `"local"` | no |
| state\_config | Optional config for state backend. The object type will depend on your backend. | `any` | `null` | no |
| tiller\_namespace | Namespace where Tiller is installed or should be installed into. | `string` | `"kube-system"` | no |
| wifi_orc8r\_chart\_version | Version of the Orchestrator wifi module Helm chart to install. | `string` | 0.2.0 | yes |

## Outputs

| Name | Description |
|------|-------------|
| helm\_vals | Helm values for the Orchestrator deployment. |
