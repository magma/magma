################################################################################
# Copyright 2020 The Magma Authors.

# This source code is licensed under the BSD-style license found in the
# LICENSE file in the root directory of this source tree.

# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
################################################################################

S-GW :
{
    NETWORK_INTERFACES :
    {
        # S-GW binded interface for S11 communication (GTPV2-C), if none selected the ITTI message interface is used
        SGW_INTERFACE_NAME_FOR_S11              = "lo";
        SGW_IPV4_ADDRESS_FOR_S11                = "127.0.0.1/8";

        # S-GW binded interface for S1-U communication (GTPV1-U) can be ethernet interface, virtual ethernet interface, we don't advise wireless interfaces
        SGW_INTERFACE_NAME_FOR_S1U_S12_S4_UP    = "eth1";
        SGW_IPV4_ADDRESS_FOR_S1U_S12_S4_UP      = "192.168.60.142/24";
        SGW_IPV4_PORT_FOR_S1U_S12_S4_UP         = 2152;                         # INTEGER, port number, PREFER NOT CHANGE UNLESS YOU KNOW WHAT YOU ARE DOING

        # S-GW binded interface for S5 or S8 communication, not implemented, so leave it to none
        SGW_INTERFACE_NAME_FOR_S5_S8_UP         = "eth0";         # STRING, interface name
        SGW_IPV4_ADDRESS_FOR_S5_S8_UP           = "10.0.2.15/24";                 # STRING, CIDR
    };

    INTERTASK_INTERFACE :
    {
        # max queue size per task
        ITTI_QUEUE_SIZE            = 2000000;                                   # INTEGER
    };


    OVS :
    {
      BRIDGE_NAME                          = "gtp_br0";
      GTP_PORT_NUM                         = 32768;
      MTR_PORT_NUM                         = 15577;
      INTERNAL_SAMPLING_PORT_NUM           = 15578;
      INTERNAL_SAMPLING_FWD_TBL_NUM        = 201;
      UPLINK_PORT_NUM                      = 2;
      UPLINK_MAC                           = "ff:ff:ff:ff:ff:ff";
      MULTI_TUNNEL                         = "True";
      GTP_ECHO                             = "True";
      GTP_CHECKSUM                         = "False";
      AGW_L3_TUNNEL                        = "False";
      PIPELINED_CONFIG_ENABLED             = "False";
    };
};

P-GW =
{
    NETWORK_INTERFACES :
    {
        # P-GW binded interface for S5 or S8 communication, not implemented, so leave it to none
        PGW_INTERFACE_NAME_FOR_S5_S8          = "none";                         # STRING, interface name, DO NOT CHANGE (NOT IMPLEMENTED YET)

        # P-GW binded interface for SGI (egress/ingress internet traffic)
        PGW_INTERFACE_NAME_FOR_SGI            = "gtp_br0";
        PGW_MASQUERADE_SGI                    = "no";
        UE_TCP_MSS_CLAMPING                   = "yes";
    };

    # Pool of UE assigned IP addresses
    # Do not make IP pools overlap
    # first IPv4 address X.Y.Z.1 is reserved for GTP network device on SPGW
    # Normally no more than 16 pools allowed, but since recent GTP kernel module use, only one pool allowed (TODO).
    IP_ADDRESS_POOL :
    {
        IPV4_LIST = (
                      "0.0.0.0/24"   # Unused
                    );
    };

    # DNS address communicated to UEs
    DEFAULT_DNS_IPV4_ADDRESS     = "8.8.8.8";
    DEFAULT_DNS_SEC_IPV4_ADDRESS = "8.8.4.4";
    DNS_SERVER_IPV6_ADDRESS      = "2001:4860:4860:0:0:0:0:8888";
    P_CSCF_IPV4_ADDRESS          = "172.27.23.150";
    P_CSCF_IPV6_ADDRESS          = "2a12:577:9941:f99c:0002:0001:c731:f114";

    # Non standard feature, normally should be set to "no", but you may need to set to yes for UE that do not explicitly request a PDN address through NAS signaling
    FORCE_PUSH_PROTOCOL_CONFIGURATION_OPTIONS = "no";                           # STRING, {"yes", "no"}.
    UE_MTU                                    = 1400         # MTU - (extended GTPv1 hdr(16 Bytes) + UDP hdr(8) -IPv4(20) hdr + additional bytes(56)) INTEGER
    RELAY_ENABLED                             = "no";
    ENABLE_NAT                                = "True"
};
