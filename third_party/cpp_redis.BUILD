# This BUILD file is based off the one included in the cpp-redis repo (see latest)
# We can get rid of this once we upgrade cpp-redis to a more up-to-date version
cc_library(
    name = "cpp_redis",
    srcs = [
        "sources/builders/array_builder.cpp",
        "sources/builders/builders_factory.cpp",
        "sources/builders/bulk_string_builder.cpp",
        "sources/builders/error_builder.cpp",
        "sources/builders/integer_builder.cpp",
        "sources/builders/reply_builder.cpp",
        "sources/builders/simple_string_builder.cpp",
        "sources/core/client.cpp",
        "sources/core/reply.cpp",
        "sources/core/sentinel.cpp",
        "sources/core/subscriber.cpp",
        "sources/misc/logger.cpp",
        "sources/network/redis_connection.cpp",
        "sources/network/tcp_client.cpp",
    ],
    hdrs = [
        "includes/cpp_redis/builders/array_builder.hpp",
        "includes/cpp_redis/builders/builder_iface.hpp",
        "includes/cpp_redis/builders/builders_factory.hpp",
        "includes/cpp_redis/builders/bulk_string_builder.hpp",
        "includes/cpp_redis/builders/error_builder.hpp",
        "includes/cpp_redis/builders/integer_builder.hpp",
        "includes/cpp_redis/builders/reply_builder.hpp",
        "includes/cpp_redis/builders/simple_string_builder.hpp",
        "includes/cpp_redis/core/client.hpp",
        "includes/cpp_redis/core/reply.hpp",
        "includes/cpp_redis/core/sentinel.hpp",
        "includes/cpp_redis/core/subscriber.hpp",
        "includes/cpp_redis/cpp_redis",
        "includes/cpp_redis/helpers/variadic_template.hpp",
        "includes/cpp_redis/impl/client.ipp",
        "includes/cpp_redis/misc/error.hpp",
        "includes/cpp_redis/misc/logger.hpp",
        "includes/cpp_redis/misc/macro.hpp",
        "includes/cpp_redis/network/redis_connection.hpp",
        "includes/cpp_redis/network/tcp_client.hpp",
        "includes/cpp_redis/network/tcp_client_iface.hpp",
    ],
    strip_include_prefix = "includes",
    visibility = ["//visibility:public"],
    deps = ["@tacopie"],
)
