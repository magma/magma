swagger: "2.0"
info:
  title: Carrier Wifi Network Management
  description: Carrier Wifi REST APIs
  version: 1.0.0
basePath: /magma/v1
consumes: []
produces: []
schemes: []
tags:
- description: Endpoints related to Carrier Wifi Network management
  name: Carrier Wifi Networks
- description: Endpoints related to Carrier Wifi Network management
  name: Carrier Wifi Gateways
paths:
  /cwf:
    get:
      responses:
        "200":
          description: List of Carrier Wifi network IDs
          schema:
            example:
            - cwf_network1
            - cwf_network2
            items:
              type: string
            type: array
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: List all Carrier Wifi network IDs
      tags:
      - Carrier Wifi Networks
    post:
      parameters:
      - description: Configuration of the network to create
        in: body
        name: cwf_network
        required: true
        schema:
          $ref: '#/definitions/cwf_network'
      responses:
        "201":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Create a new Carrier Wifi network
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}:
    delete:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Delete a Carrier Wifi network
      tags:
      - Carrier Wifi Networks
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: Full description of a Carrier Wifi network
          schema:
            $ref: '#/definitions/cwf_network'
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Describe a Carrier Wifi network
      tags:
      - Carrier Wifi Networks
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - description: Full desired configuration of the network
        in: body
        name: cwf_network
        required: true
        schema:
          $ref: '#/definitions/cwf_network'
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update an entire Carrier Wifi network
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/carrier_wifi:
    delete:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Delete Network Carrier Wifi Configs
      tags:
      - Carrier Wifi Networks
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: Retrieve Network Carrier Wifi Configs
          schema:
            $ref: '#/definitions/network_carrier_wifi_configs'
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Retrieve Network Carrier Wifi Configs
      tags:
      - Carrier Wifi Networks
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - description: Updated config
        in: body
        name: config
        required: true
        schema:
          $ref: '#/definitions/network_carrier_wifi_configs'
      responses:
        "200":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Modify Network Carrier Wifi Configs
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/description:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: Description of the network
          schema:
            $ref: ./orc8r-swagger-common.yml#/definitions/network_description
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get description of a Carrier Wifi network
      tags:
      - Carrier Wifi Networks
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - description: New name for the network
        in: body
        name: description
        required: true
        schema:
          $ref: ./orc8r-swagger-common.yml#/definitions/network_description
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update the description of a Carrier Wifi network
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/gateways:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: List of all carrier wifi gateways inside the network
          schema:
            additionalProperties:
              $ref: '#/definitions/cwf_gateway'
            type: object
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: List all gateways for a carrier wifi network
      tags:
      - Carrier Wifi Gateways
    post:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - description: Full desired configuration of the gateway
        in: body
        name: gateway
        required: true
        schema:
          $ref: '#/definitions/mutable_cwf_gateway'
      responses:
        "201":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Register a new carrier wifi gateway
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/gateways/{gateway_id}:
    delete:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Delete a carrier wifi gateway
      tags:
      - Carrier Wifi Gateways
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "200":
          description: The requested carrier wifi gateway
          schema:
            $ref: '#/definitions/cwf_gateway'
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get a specific carrier wifi gateway
      tags:
      - Carrier Wifi Gateways
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      - description: Full desired configuration of the gateway
        in: body
        name: gateway
        required: true
        schema:
          $ref: '#/definitions/mutable_cwf_gateway'
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update an entire carrier wifi gateway record
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/gateways/{gateway_id}/carrier_wifi:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "200":
          description: Carrier Wifi configuration
          schema:
            $ref: '#/definitions/gateway_cwf_configs'
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get gateway carrier Wifi configuration
      tags:
      - Carrier Wifi Gateways
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      - description: New carrier Wifi configuration
        in: body
        name: config
        required: true
        schema:
          $ref: '#/definitions/gateway_cwf_configs'
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update gateway carrier Wifi configuration
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/gateways/{gateway_id}/description:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "200":
          description: The description of the gateway
          schema:
            $ref: ./orc8r-swagger-common.yml#/definitions/gateway_description
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get the description of a carrier wifi gateway
      tags:
      - Carrier Wifi Gateways
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      - in: body
        name: description
        required: true
        schema:
          $ref: ./orc8r-swagger-common.yml#/definitions/gateway_description
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update the description of a carrier wifi gateway
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/gateways/{gateway_id}/device:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "200":
          description: The physical device for the gateway
          schema:
            $ref: ./orc8r-swagger.yml#/definitions/gateway_device
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get the physical device for a carrier wifi gateway
      tags:
      - Carrier Wifi Gateways
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      - description: New device for the carrier wifi gateway
        in: body
        name: device
        required: true
        schema:
          $ref: ./orc8r-swagger.yml#/definitions/gateway_device
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update the physical device for a carrier wifi gateway
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/gateways/{gateway_id}/health_status:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "200":
          description: Health Status of Carrier Wifi Gateway
          schema:
            $ref: '#/definitions/carrier_wifi_gateway_health_status'
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Retrieve Health Status of a Carrier Wifi Gateway
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/gateways/{gateway_id}/magmad:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "200":
          description: Magmad agent configuration
          schema:
            $ref: ./orc8r-swagger.yml#/definitions/magmad_gateway_configs
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get magmad agent configuration
      tags:
      - Carrier Wifi Gateways
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      - description: New magmad configuration
        in: body
        name: magmad
        required: true
        schema:
          $ref: ./orc8r-swagger.yml#/definitions/magmad_gateway_configs
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Reconfigure magmad agent
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/gateways/{gateway_id}/name:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "200":
          description: The name of the gateway
          schema:
            $ref: ./orc8r-swagger-common.yml#/definitions/gateway_name
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get the name of a carrier wifi gateway
      tags:
      - Carrier Wifi Gateways
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      - in: body
        name: name
        required: true
        schema:
          $ref: ./orc8r-swagger-common.yml#/definitions/gateway_name
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update the name of a carrier wifi gateway
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/gateways/{gateway_id}/status:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "200":
          description: The status of the gateway
          schema:
            $ref: ./orc8r-swagger.yml#/definitions/gateway_status
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get the status of a gateway
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/gateways/{gateway_id}/tier:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      responses:
        "200":
          description: The ID of the upgrade tier
          schema:
            $ref: ./orc8r-swagger.yml#/definitions/tier_id
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get the ID of the upgrade tier a gateway belongs to
      tags:
      - Carrier Wifi Gateways
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./orc8r-swagger-common.yml#/parameters/gateway_id
      - in: body
        name: tier_id
        required: true
        schema:
          $ref: ./orc8r-swagger.yml#/definitions/tier_id
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update the ID of the upgrade tier a gateway belongs to
      tags:
      - Carrier Wifi Gateways
  /cwf/{network_id}/ha_pairs:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: All high availability gateway pairs in Carrier Wifi network
          schema:
            additionalProperties:
              $ref: '#/definitions/cwf_ha_pair'
            type: object
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: List all high availability gateway pairs in Carrier Wifi network
      tags:
      - Carrier Wifi Networks
    post:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - description: Carrier Wifi HA gateway pair
        in: body
        name: HA pair
        required: true
        schema:
          $ref: '#/definitions/mutable_cwf_ha_pair'
      responses:
        "201":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Create new high availability gateway pair in Carrier Wifi network
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/ha_pairs/{ha_pair_id}:
    delete:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: '#/parameters/ha_pair_id'
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Delete high availability gateway pair for Carrier Wifi network
      tags:
      - Carrier Wifi Networks
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: '#/parameters/ha_pair_id'
      responses:
        "200":
          description: Retrieve high availability gateway pair for Carrier Wifi network
          schema:
            $ref: '#/definitions/cwf_ha_pair'
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Retrieve high availability gateway pair for Carrier Wifi network
      tags:
      - Carrier Wifi Networks
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: '#/parameters/ha_pair_id'
      - description: Carrier Wifi HA gateway pair
        in: body
        name: ha pair
        required: true
        schema:
          $ref: '#/definitions/mutable_cwf_ha_pair'
      responses:
        "200":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Modify high availability gateway pair for Carrier Wifi network
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/ha_pairs/{ha_pair_id}/status:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: '#/parameters/ha_pair_id'
      responses:
        "200":
          description: Status of a HA pair
          schema:
            $ref: '#/definitions/carrier_wifi_ha_pair_status'
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Retrieve status of a Carrier Wifi HA pair
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/li_ues:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: Monitored LI UEs
          schema:
            $ref: '#/definitions/li_ues'
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get monitored LI UEs for Carrier Wifi network
      tags:
      - Carrier Wifi Networks
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - in: body
        name: description
        required: true
        schema:
          $ref: '#/definitions/li_ues'
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update monitored LI UEs for Carrier Wifi network
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/name:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: Name of the network
          schema:
            $ref: ./orc8r-swagger-common.yml#/definitions/network_name
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get name of a Carrier Wifi network
      tags:
      - Carrier Wifi Networks
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - description: New name for the network
        in: body
        name: name
        required: true
        schema:
          $ref: ./orc8r-swagger-common.yml#/definitions/network_name
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update the name of a Carrier Wifi network
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/subscriber_config:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: Subscriber Config
          schema:
            $ref: ./lte-policydb-swagger.yml#/definitions/network_subscriber_config
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get a network-wide subscriber config
      tags:
      - Carrier Wifi Networks
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - description: Subscriber Config for the Network
        in: body
        name: record
        required: true
        schema:
          $ref: ./lte-policydb-swagger.yml#/definitions/network_subscriber_config
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update a network-wide subscriber config
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/subscriber_config/base_names:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: Subscriber Config
          schema:
            $ref: ./lte-policydb-swagger.yml#/definitions/base_names
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get network-wide base names
      tags:
      - Carrier Wifi Networks
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - description: Subscriber Config for the Network
        in: body
        name: record
        required: true
        schema:
          $ref: ./lte-policydb-swagger.yml#/definitions/base_names
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update network-wide base names
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/subscriber_config/base_names/{base_name}:
    delete:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./lte-policydb-swagger.yml#/parameters/base_name
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Add a network-wide base name
      tags:
      - Carrier Wifi Networks
    post:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./lte-policydb-swagger.yml#/parameters/base_name
      responses:
        "201":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Add a network-wide base name
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/subscriber_config/rule_names:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      responses:
        "200":
          description: Subscriber Config
          schema:
            $ref: ./lte-policydb-swagger.yml#/definitions/rule_names
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get network-wide rule names
      tags:
      - Carrier Wifi Networks
    put:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - description: Subscriber Config for the Network
        in: body
        name: record
        required: true
        schema:
          $ref: ./lte-policydb-swagger.yml#/definitions/rule_names
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Update network-wide rule names
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/subscriber_config/rule_names/{rule_id}:
    delete:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./lte-policydb-swagger.yml#/parameters/rule_id
      responses:
        "204":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Add a network-wide rule name
      tags:
      - Carrier Wifi Networks
    post:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./lte-policydb-swagger.yml#/parameters/rule_id
      responses:
        "201":
          description: Success
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Add a network-wide rule name
      tags:
      - Carrier Wifi Networks
  /cwf/{network_id}/subscribers/{subscriber_id}/directory_record:
    get:
      parameters:
      - $ref: ./orc8r-swagger-common.yml#/parameters/network_id
      - $ref: ./lte-policydb-swagger.yml#/parameters/subscriber_id
      responses:
        "200":
          description: The directory record of a subscriber
          schema:
            $ref: '#/definitions/cwf_subscriber_directory_record'
        default:
          $ref: ./orc8r-swagger-common.yml#/responses/UnexpectedError
      summary: Get the directory record of a subscriber
      tags:
      - Carrier Wifi Networks
responses: {}
parameters:
  ha_pair_id:
    description: HA Gateway Pair ID
    in: path
    name: ha_pair_id
    required: true
    type: string
definitions:
  allowed_gre_peer:
    properties:
      ip:
        example: 192.168.128.0/32
        maxLength: 49
        minLength: 5
        type: string
        x-nullable: false
      key:
        example: 1
        format: uint32
        type: integer
        x-nullable: true
    required:
    - ip
    type: object
  allowed_gre_peers:
    items:
      $ref: '#/definitions/allowed_gre_peer'
    type: array
  carrier_wifi_gateway_health_status:
    description: Health status of a Carrier Wifi Gateway
    properties:
      description:
        type: string
        x-nullable: false
      status:
        enum:
        - HEALTHY
        - UNHEALTHY
        type: string
        x-nullable: false
    required:
    - status
    - description
    type: object
  carrier_wifi_ha_pair_state:
    description: Full state object of an ha pair
    properties:
      gateway1_health:
        $ref: '#/definitions/carrier_wifi_gateway_health_status'
      gateway2_health:
        $ref: '#/definitions/carrier_wifi_gateway_health_status'
      ha_pair_status:
        $ref: '#/definitions/carrier_wifi_ha_pair_status'
    type: object
  carrier_wifi_ha_pair_status:
    description: Status of a Carrier Wifi HA pair status
    properties:
      active_gateway:
        example: active_gatewayID
        type: string
        x-nullable: false
    required:
    - active_gateway
    type: object
  cwf_gateway:
    description: Full description of a CWF gateway
    properties:
      carrier_wifi:
        $ref: '#/definitions/gateway_cwf_configs'
      description:
        $ref: ./orc8r-swagger-common.yml#/definitions/gateway_description
      device:
        $ref: ./orc8r-swagger.yml#/definitions/gateway_device
      id:
        $ref: ./orc8r-swagger-common.yml#/definitions/gateway_id
      magmad:
        $ref: ./orc8r-swagger.yml#/definitions/magmad_gateway_configs
      name:
        $ref: ./orc8r-swagger-common.yml#/definitions/gateway_name
      status:
        $ref: ./orc8r-swagger.yml#/definitions/gateway_status
      tier:
        $ref: ./orc8r-swagger.yml#/definitions/tier_id
    required:
    - device
    - id
    - name
    - description
    - magmad
    - tier
    - carrier_wifi
    type: object
  cwf_ha_pair:
    description: HA Gateway pair in a Carrier Wifi Network
    properties:
      config:
        $ref: '#/definitions/cwf_ha_pair_configs'
      gateway_id_1:
        example: gateway1
        type: string
        x-nullable: false
      gateway_id_2:
        example: gateway2
        type: string
        x-nullable: false
      ha_pair_id:
        example: pair1
        type: string
        x-nullable: false
      state:
        $ref: '#/definitions/carrier_wifi_ha_pair_state'
    required:
    - ha_pair_id
    - gateway_id_1
    - gateway_id_2
    - config
    type: object
  cwf_ha_pair_configs:
    description: Configuration for HA Gateway pair in a Carrier Wifi Network
    properties:
      transport_virtual_ip:
        example: 192.168.128.0/32
        maxLength: 49
        minLength: 5
        type: string
        x-nullable: false
    required:
    - transport_virtual_ip
    type: object
  cwf_network:
    description: Carrier Wifi Network spec
    properties:
      carrier_wifi:
        $ref: '#/definitions/network_carrier_wifi_configs'
      description:
        $ref: ./orc8r-swagger-common.yml#/definitions/network_description
      dns:
        $ref: ./orc8r-swagger.yml#/definitions/network_dns_config
      features:
        $ref: ./orc8r-swagger.yml#/definitions/network_features
      federation:
        $ref: ./feg-swagger.yml#/definitions/federated_network_configs
      id:
        $ref: ./orc8r-swagger-common.yml#/definitions/network_id
      name:
        $ref: ./orc8r-swagger-common.yml#/definitions/network_name
      subscriber_config:
        $ref: ./lte-policydb-swagger.yml#/definitions/network_subscriber_config
        x-omitempty: true
    required:
    - id
    - name
    - description
    - carrier_wifi
    - dns
    - federation
    type: object
  cwf_subscriber_directory_record:
    description: CWF subscriber directory record
    properties:
      ipv4_addr:
        example: 192.168.127.1
        format: ipv4
        type: string
        x-nullable: false
      location_history:
        items:
          type: string
        type: array
      mac_addr:
        example: aa:bb:cc:dd:ee:ff
        type: string
        x-nullable: false
    required:
    - location_history
    type: object
  gateway_cwf_configs:
    description: CWF configuration for a gateway
    properties:
      allowed_gre_peers:
        $ref: '#/definitions/allowed_gre_peers'
      gateway_health_configs:
        $ref: '#/definitions/gateway_health_configs'
      ipdr_export_dst:
        $ref: '#/definitions/ipdr_export_dst'
    required:
    - allowed_gre_peers
    type: object
  gateway_health_configs:
    description: Configuration threshold for gateway health service
    properties:
      cpu_util_threshold_pct:
        example: 0.9
        format: float
        type: number
      gre_probe_interval_secs:
        example: 5
        format: uint32
        type: integer
      icmp_probe_pkt_count:
        example: 3
        format: uint32
        type: integer
      mem_util_threshold_pct:
        example: 0.9
        format: float
        type: number
    type: object
  ipdr_export_dst:
    properties:
      ip:
        example: 192.168.128.88
        format: ipv4
        type: string
        x-nullable: false
      port:
        example: 2040
        format: uint32
        type: integer
        x-nullable: false
    required:
    - ip
    - port
    type: object
  li_ues:
    properties:
      imsis:
        items:
          type: string
        type: array
      ips:
        items:
          type: string
        type: array
      macs:
        items:
          type: string
        type: array
      msisdns:
        items:
          type: string
        type: array
    required:
    - imsis
    - msisdns
    - macs
    - ips
    type: object
  mutable_cwf_gateway:
    description: CWF gateway object with read-only fields omitted
    properties:
      carrier_wifi:
        $ref: '#/definitions/gateway_cwf_configs'
      description:
        $ref: ./orc8r-swagger-common.yml#/definitions/gateway_description
      device:
        $ref: ./orc8r-swagger.yml#/definitions/gateway_device
      id:
        $ref: ./orc8r-swagger-common.yml#/definitions/gateway_id
      magmad:
        $ref: ./orc8r-swagger.yml#/definitions/magmad_gateway_configs
      name:
        $ref: ./orc8r-swagger-common.yml#/definitions/gateway_name
      tier:
        $ref: ./orc8r-swagger.yml#/definitions/tier_id
    required:
    - device
    - id
    - name
    - description
    - magmad
    - tier
    - carrier_wifi
    type: object
  mutable_cwf_ha_pair:
    description: HA Gateway pair with read-only fields omitted
    properties:
      config:
        $ref: '#/definitions/cwf_ha_pair_configs'
      gateway_id_1:
        example: gateway1
        type: string
        x-nullable: false
      gateway_id_2:
        example: gateway2
        type: string
        x-nullable: false
      ha_pair_id:
        example: pair1
        type: string
        x-nullable: false
    required:
    - ha_pair_id
    - gateway_id_1
    - gateway_id_2
    - config
    type: object
  network_carrier_wifi_configs:
    description: Carrier WiFi configuration for a network
    minLength: 1
    properties:
      aaa_server:
        $ref: ./feg-swagger.yml#/definitions/aaa_server
      default_rule_id:
        example: default_rule_1
        type: string
      eap_aka:
        $ref: ./feg-swagger.yml#/definitions/eap_aka
      eap_sim:
        $ref: ./feg-swagger.yml#/definitions/eap_sim
      is_xwfm_variant:
        example: false
        type: boolean
      li_ues:
        $ref: '#/definitions/li_ues'
      network_services:
        description: Configuration for network services. Services will be instantiated
          in the listed order.
        example:
        - dpi
        - policy_enforcement
        items:
          enum:
          - dpi
          - policy_enforcement
          type: string
        type: array
        x-omitempty: true
    required:
    - default_rule_id
    - network_services
    - eap_aka
    - aaa_server
    type: object
