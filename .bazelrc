startup --output_base=/tmp/bazel

build --announce_rc
build --color=yes
build --cxxopt=-std=c++14
build --cxxopt=-g2

# For building with Bazel inside the Magma-Builder Docker container
build:docker --disk_cache=/magma/.bazel-cache
build:docker --repository_cache=/magma/.bazel-cache-repo

build:specify_vm_cc --action_env=CC=/usr/bin/gcc
build:specify_vm_cc --action_env=CXX=/usr/bin/g++

# For building with Bazel inside the Magma VM
build:vm --disk_cache=/home/vagrant/magma/.bazel-cache
build:vm --repository_cache=/home/vagrant/magma/.bazel-cache-repo
build:vm --define=folly_so=1
build:vm --config=specify_vm_cc

build:asan --strip=never
build:asan --copt=-fsanitize=address
build:asan --copt=-O0
build:asan --copt=-fno-omit-frame-pointer
build:asan --linkopt=-fsanitize=address
build:asan --action_env=ASAN_OPTIONS=detect_leaks=1:color=always
